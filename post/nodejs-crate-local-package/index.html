<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Hugo 0.74.3" />

  <title> Node.js åˆ›å»ºæœ¬åœ°æ¨¡å— |  CsYakamoz`s Blog</title>
  <meta name="description" content="Nothing to say">
  <link rel="stylesheet" href="https://csyakamoz.github.iocss/simpleness.css">
  <link rel="canonical" href="https://csyakamoz.github.io/post/nodejs-crate-local-package/">
  <link rel="alternate" type="application/rss+xml" href="" title="CsYakamoz`s Blog">
  
  
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
</head>

<body>
  <header class="menus">
  

  <nav >
    
    <a href="/"> Home</a>
    
    <a href="/tags/"> Tags</a>
    
    <a href="/about/"> About</a>
    
  </nav>

  <nav class="fontawesome">
    
    <a href="https://github.com/CsYakamoz" target="_blank">
        <i title="GitHub" class="fab fa-github"></i>
    </a>
    
    
  </nav>
  
  
  <div class="hidden description">Nothing to say</div>
  
</header>

<article class="article">
  <header>
    <h1 style="text-align: center;" >Node.js åˆ›å»ºæœ¬åœ°æ¨¡å—</h1>

    <div class="post-meta">
    
      <time datetime="2020-09-09T11:00:07&#43;08:00">September 09, 2020</time> &nbsp; 
    

     &nbsp;

    
    
    

    
      <i class="far fa-clock"></i>
      
      
      

      
        1 min
      
      35 s
      &nbsp;
    

    
    </div>
  </header>

   

  <div class="text">
    <h2 id="é—®é¢˜æ¥æº">é—®é¢˜æ¥æº</h2>
<p>åœ¨ç¼–å†™ä»£ç æ—¶ï¼Œä¸ªäººä¹ æƒ¯ä¼šæŠŠé€šç”¨å®ç”¨æ¨¡å—æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹</p>
<p>å› ä¸ºæ˜¯é€šç”¨å®ç”¨æ¨¡å—ï¼Œè‹¥é¡¹ç›®å±‚çº§è¾ƒå¤šï¼Œé‚£ä¹ˆå±‚çº§è¾ƒæ·±çš„æ–‡ä»¶å¼•ç”¨è¯¥æ¨¡å—æ—¶ï¼Œä¼šå‡ºç°è¿™æ ·çš„ä»£ç ï¼š</p>
<div class="highlight"><pre style="color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#859900">const</span> <span style="color:#268bd2">Utils</span> = <span style="color:#268bd2">require</span>(<span style="color:#2aa198">&#34;../../../../../../../utils&#34;</span>);
</code></pre></div><p>è¿™ä¹ˆå¤šçš„ <code>..</code>, å¦‚æœå†™å°‘æˆ–å†™å¤šä¸€ä¸ª <code>..</code>, å°±ä¼šæŠ¥é”™</p>
<p>Oh, it makes me uncomfortable ğŸ˜‘</p>
<p>å› æ­¤ï¼Œéœ€æ±‚æ˜¯å¯ä»¥ç”¨ç®€å•çš„è·¯å¾„å¼•ç”¨é€šç”¨å®ç”¨æ¨¡å—</p>
<h2 id="solution-one">Solution One</h2>
<p>ä½¿ç”¨ <a href="https://www.npmjs.com/package/module-alias">module-alias</a>, ç®€æ´ä¸”æ˜“ç”¨</p>
<p>ä¸ªäººè®¤ä¸ºåªæœ‰ä¸€ä¸ªç¼ºç‚¹ - å®ƒæ›´æ”¹ <code>Module._resolveFilename</code> æ–¹æ³•</p>
<h2 id="solution-two">Solution Two</h2>
<p><code>npm</code> å’Œ <code>yarn</code> ç°å·²æ”¯æŒå®‰è£…æœ¬åœ°æ¨¡å—</p>
<p>é¦–å…ˆéœ€è¦ä¸ºæœ¬åœ°æ¨¡å—æ·»åŠ  <code>package.json</code> æ–‡ä»¶</p>
<blockquote>
<p>å¯¹äº package.json, å…¶ name, version æ˜¯å¿…éœ€çš„</p>
</blockquote>
<p>æœ¬åœ°æ¨¡å—çš„åå­—ä¸º <code>package.json</code> çš„ <code>name</code> å­—æ®µï¼Œè€Œä¸æ˜¯æœ¬åœ°æ¨¡å—æ‰€å¤„ç›®å½•å</p>
<p>å‡è®¾æœ¬åœ°æ¨¡å—ç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•çš„è·¯å¾„æ˜¯ <code>./local-package-dir</code>, å…¶åœ¨ package.json æ–‡ä»¶ä¸­çš„ <code>name</code> ä¸º <code>local-package</code></p>
<p>åˆ™å®‰è£…æœ¬åœ°æ¨¡å—çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">
<span style="color:#93a1a1;font-style:italic"># åœ¨ node_modules ä¸­åˆ›å»ºè½¯é“¾ local-package æŒ‡å‘ ../local-package-dir</span>
npm install ./local-package-dir

<span style="color:#93a1a1;font-style:italic"># æ‹·è´ ./local-package-dir çš„æ‰€æœ‰æ–‡ä»¶ï¼Œæ”¾åˆ° node_modules/local-package</span>
yarn add ./local-package-dir

<span style="color:#93a1a1;font-style:italic"># åœ¨ node_modules ä¸­åˆ›å»ºè½¯é“¾ local-package æŒ‡å‘ ../local-package-dir</span>
yarn add link:./local-package-dir

</code></pre></div><p>ç°åœ¨å¼•ç”¨æœ¬åœ°æ¨¡å—æ—¶ï¼Œå¯è¿™ä¹ˆå†™ï¼š</p>
<div class="highlight"><pre style="color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#859900">const</span> <span style="color:#859900">package</span> = <span style="color:#268bd2">require</span>(<span style="color:#2aa198">&#34;local-package&#34;</span>);
</code></pre></div><h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<p><a href="https://github.com/goldbergyoni/nodebestpractices/blob/master/sections/projectstructre/wraputilities.md">Wrap common utilities as npm packages</a></p>
<p><a href="https://juejin.im/post/5ab3f77df265da2392364341">2018 å¹´äº†ï¼Œä½ è¿˜æ˜¯åªä¼š npm install å—ï¼Ÿ</a></p>
<p><a href="https://docs.npmjs.com/cli/install.html">npm install</a></p>
<p><a href="https://classic.yarnpkg.com/en/docs/cli/add/">yarn add</a></p>

  </div>

  <footer>
    <hr class="end-line">

    

    
    <div class="post-tags">
      <i class="fas fa-tags"></i>
      
        <a href="/tags/javascript">javascript</a>
        &nbsp;
      
    </div>
    

    
    
    <div class="releated-posts">
      <h3>Related Posts</h3>
      
      <i class="fas fa-paperclip"></i>
      <a href="/post/javascript-function-parameter-type/">Javascript å‡½æ•°ä¼ å‚ç±»å‹</a>
      <br>
      
      <i class="fas fa-paperclip"></i>
      <a href="/post/javascript-iterate-object-property-order/">JavaScript éå†å¯¹è±¡å±æ€§é¡ºåº</a>
      <br>
      
      <i class="fas fa-paperclip"></i>
      <a href="/post/coding-style/">ç¼–ç é£æ ¼</a>
      <br>
      
      <i class="fas fa-paperclip"></i>
      <a href="/post/nodejs-call-wechat-img-sec-check-api/">Node.js è°ƒç”¨å¾®ä¿¡å°ç¨‹åºå›¾ç‰‡æ ¡éªŒæ¥å£</a>
      <br>
      
      <i class="fas fa-paperclip"></i>
      <a href="/post/nodejs-supported-encoding/">Node.js æ”¯æŒçš„ç¼–ç </a>
      <br>
      
    </div>
    
  </footer>

  <div class="comments">



</div>

</article>


</body>
<div class="foot">
  
  
    &copy; 2020 - 2021 &#183; 
    <a href="/">Home</a> Â· Theme <a href="https://github.com/RainerChiang/simpleness">Simpleness</a> Powered by <a href="https://gohugo.io/">Hugo</a> &#183;
    <a href="#"><i class="fas fa-chevron-up"></i></a>
  

  
</div>

<script src="/js/lazyload.min.js"></script>
<script>
  var lazyImage = new LazyLoad({
    container: document.getElementById('article')
  });
</script>


</html>
